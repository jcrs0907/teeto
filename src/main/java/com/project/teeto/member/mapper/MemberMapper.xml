<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.teeto.member.mapper.MemberMapper">
    <!--적은 닉네임을 가지고와서 멘티 테이블에서 그 닉네임이 있는지 확인-->
    <!--<select id="checkId" parameterType="String" resultType="Integer">-->

    <select id="checkEmailUse"
            parameterType="String"
            resultType="int">
       SELECT /* select - MemberMapper.xml : 210925 @eunseo */
            COUNT(*)
        FROM TB_MEMBER_L
       WHERE 1=1
       AND USE_YN = 'Y'
       AND MEM_EMAIL = #{email}
    </select>

    <select id="checkNickNameUse"
            parameterType="String"
            resultType="int">
       SELECT /* select - MemberMapper.xml : 210925 @eunseo */
            COUNT(*)
        FROM TB_MENTEE_I
       WHERE 1=1
       AND USE_YN = 'Y'
       AND MENTEE_NM = #{nickName}
    </select>

    <insert id="insert"
            parameterType="member">
       INSERT INTO
        TB_MEMBER_L (
             MEM_ID
           , MEM_NM
           , MEM_EMAIL
           , MEM_TEL
           , MEM_PROFILE_FILE_SEQNO
           , MEM_TP_CD
           , CRE_DTTM
        ) VALUES (
             #{memId}
           , #{memNm}
           , #{memEmail}
           , #{memTel, jdbcType=VARCHAR}
           , #{memProfileFileSeqno, jdbcType=INTEGER}
           , 'MT01'
           , sysdate
        )
    </insert>
</mapper>